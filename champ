#! /usr/bin/env python

## CARRERA CHAMPS
##
##   A script to start a race for LAPS laps on a Carrera Digital 132/124
##   slot car set.
##
##   You must supply the mac address of your Control Unit and the number
##   laps you want to race for (default=6)
##
##   Usage: ./champs CU_MAC_ADDRESS LAPS PLAYERS
##   Example: ./champs ab:12:cd:34:ef:45 10

import sys
import curses

#from carreralib import ControlUnit

class Player:
    def __init__(self, name):
        self.name = name
        self.laps = 0

class Race:
    def __init__(self, cu, laps, players):
        self.laps = laps
        self.cu = cu
        self.players = list(map(lambda n: Player(n), players))

    def start(self):
        pass

    def run(self):
        pass

#cu = ControlUnit(sys.argv[1])
cu = 1

stdscr = curses.initscr()
curses.noecho()
curses.cbreak()

race = Race(cu, sys.argv[2], sys.argv[3:])
race.start()
race.run()

curses.echo()
curses.nocbreak()
curses.endwin()

#cu.start()

# Start looping.
  # On Timer - add player and increment laps.
  # If player.laps >= laps, end.
